<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Skia: SkRefCnt Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SkRefCnt Class Reference</h1><!-- doxytag: class="SkRefCnt" -->
<p><code>#include &lt;<a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>&gt;</code></p>

<p>Inherited by <a class="el" href="class_sk_bounder.html">SkBounder</a>, <a class="el" href="class_sk_canvas.html">SkCanvas</a>, <a class="el" href="class_sk_color_table.html">SkColorTable</a>, <a class="el" href="class_sk_device.html">SkDevice</a>, <a class="el" href="class_sk_draw_filter.html">SkDrawFilter</a>, <a class="el" href="class_sk_flattenable.html">SkFlattenable</a>, <a class="el" href="class_sk_picture.html">SkPicture</a>, <a class="el" href="class_sk_pixel_ref.html">SkPixelRef</a>, <a class="el" href="class_sk_ptr_recorder.html">SkPtrRecorder</a>, <a class="el" href="class_sk_stream.html">SkStream</a>, and <a class="el" href="class_sk_typeface.html">SkTypeface</a>.</p>

<p><a href="class_sk_ref_cnt-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#a7a197ccc33fc786e601e922725374523">SkRefCnt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#a669a33f7e07e68dadb8f724246aafe62">~SkRefCnt</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#a404b73a3ab2521f020f0ff1db9c1b6b2">getRefCnt</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#ad20a3a041c22c00ab926956aa5bbd8e1">ref</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#a38af7c1c38a521154b2f7e0a73e69bc4">unref</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#a5e3171dc559f149726e9bb3ae0c99dfa">safeRef</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sk_ref_cnt.html#ace48d87354afb976e7cb29b915a87674">safeUnref</a> () const </td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="class_sk_ref_cnt.html">SkRefCnt</a> is the base class for objects that may be shared by multiple objects. When a new owner wants a reference, it calls <a class="el" href="class_sk_ref_cnt.html#ad20a3a041c22c00ab926956aa5bbd8e1">ref()</a>. When an owner wants to release its reference, it calls <a class="el" href="class_sk_ref_cnt.html#a38af7c1c38a521154b2f7e0a73e69bc4">unref()</a>. When the shared object's reference count goes to zero as the result of an <a class="el" href="class_sk_ref_cnt.html#a38af7c1c38a521154b2f7e0a73e69bc4">unref()</a> call, its (virtual) destructor is called. It is an error for the destructor to be called explicitly (or via the object going out of scope on the stack or calling delete) if <a class="el" href="class_sk_ref_cnt.html#a404b73a3ab2521f020f0ff1db9c1b6b2">getRefCnt()</a> &gt; 1. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00032">32</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7a197ccc33fc786e601e922725374523"></a><!-- doxytag: member="SkRefCnt::SkRefCnt" ref="a7a197ccc33fc786e601e922725374523" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SkRefCnt::SkRefCnt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default construct, initializing the reference count to 1. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00036">36</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<a class="anchor" id="a669a33f7e07e68dadb8f724246aafe62"></a><!-- doxytag: member="SkRefCnt::~SkRefCnt" ref="a669a33f7e07e68dadb8f724246aafe62" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual SkRefCnt::~SkRefCnt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destruct, asserting that the reference count is 1. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00040">40</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a404b73a3ab2521f020f0ff1db9c1b6b2"></a><!-- doxytag: member="SkRefCnt::getRefCnt" ref="a404b73a3ab2521f020f0ff1db9c1b6b2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SkRefCnt::getRefCnt </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Return the reference count. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00044">44</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad20a3a041c22c00ab926956aa5bbd8e1"></a><!-- doxytag: member="SkRefCnt::ref" ref="ad20a3a041c22c00ab926956aa5bbd8e1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SkRefCnt::ref </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increment the reference count. Must be balanced by a call to <a class="el" href="class_sk_ref_cnt.html#a38af7c1c38a521154b2f7e0a73e69bc4">unref()</a>. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00048">48</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5e3171dc559f149726e9bb3ae0c99dfa"></a><!-- doxytag: member="SkRefCnt::safeRef" ref="a5e3171dc559f149726e9bb3ae0c99dfa" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SkRefCnt::safeRef </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper version of <a class="el" href="class_sk_ref_cnt.html#ad20a3a041c22c00ab926956aa5bbd8e1">ref()</a>, that first checks to see if this is not null. If this is null, then do nothing. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00069">69</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<a class="anchor" id="ace48d87354afb976e7cb29b915a87674"></a><!-- doxytag: member="SkRefCnt::safeUnref" ref="ace48d87354afb976e7cb29b915a87674" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SkRefCnt::safeUnref </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Helper version of <a class="el" href="class_sk_ref_cnt.html#a38af7c1c38a521154b2f7e0a73e69bc4">unref()</a>, that first checks to see if this is not null. If this is null, then do nothing. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00078">78</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<a class="anchor" id="a38af7c1c38a521154b2f7e0a73e69bc4"></a><!-- doxytag: member="SkRefCnt::unref" ref="a38af7c1c38a521154b2f7e0a73e69bc4" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SkRefCnt::unref </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrement the reference count. If the reference count is 1 before the decrement, then call delete on the object. Note that if this is the case, then the object needs to have been allocated via new, and not on the stack. </p>

<p>Definition at line <a class="el" href="_sk_ref_cnt_8h_source.html#l00058">58</a> of file <a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/core/<a class="el" href="_sk_ref_cnt_8h_source.html">SkRefCnt.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Oct 20 11:03:42 2009 for Skia by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
